<h1 align="center" class="display-4 mb-5">{{title}}</h1>

<div class="row text-center justify-content-center">
  <div class="col-lg-9 ">
    <div class="card mb-4 ">

      <div class="card-body">
        <div class=row>
          <div class="col-6">
            <img height="60%" class="card-img-top"
                 src="https://nodejs-final-mysql.herokuapp.com{{productInfo.image}}">

            <h3>REVIEWS</h3>
            <div *ngFor="let review of productInfo.reviews">
              <div class="card text-center">
                <div class="card-header">
                  <div class="row">
                    <div class="col-6"><h3>{{review.name}}</h3></div>
                    <div class="col-6">

                    </div>
                  </div>
                </div>
                <div class="card-body">
                  <h4>{{review.comment}}</h4>
                </div>
                <div class="card-footer text-muted">
                  <p>{{review.createdAt}}</p>
                </div>
              </div>


            </div>


          </div>
          <div class="col-3">
            <h4 class="card-title ">{{productInfo?.name}}</h4>
            <br>
            <p class="card-text">
              <strong>Price: </strong>
              <label id="price">{{productInfo?.price | currency}}</label>
            </p>
            <br>
            <p class="card-test"><strong>Description: </strong>{{productInfo?.description}}</p>

          </div>
          <div class="col-3">
            <form name="form" #form='ngForm'>
              <div class="text-left">
                <input hidden name="productId" [value]=productInfo?._id>

                <p class="card-text">
                  <strong>Price: </strong>
                  <label id="price">{{productInfo?.price | currency}}</label>
                </p>
                <p class="card-text"><strong>Stock: </strong>{{productInfo?.countInStock}}</p>

                <label class="card-text">
                  <strong>Quantity: </strong>
                  <input [(ngModel)]=count
                         (change)="validateCount()"
                         type="number"
                         name="count"
                         required
                         min="1"
                         [max]=productInfo?.countInStock
                  >
                </label>


                <p class="card-text"><strong>Subtotal: </strong>
                  <label id="subtotal">{{count * productInfo?.price | currency}}</label>
                </p>
              </div>
              <button type="submit" [disabled]="!form.form.valid"
                      class="btn btn-primary btn-lg">Add to Cart
              </button>

            </form>
          </div>
        </div>


      </div>
    </div>
  </div>
</div>
